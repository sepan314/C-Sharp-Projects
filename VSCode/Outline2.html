<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/css/bootstrap.min.css"
        integrity="sha384-9aIt2nRpC12Uk9gS9baDl411NQApFmC26EwAOH8WgZl5MYYxFfc+NcPb1dKGj7Sk" crossorigin="anonymous">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.16.0/umd/popper.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.0/js/bootstrap.min.js"></script>
    <title>Document 2</title>
</head>
<style>
    tbody tr {
        cursor: pointer;
    }

    tbody tr span:hover {
        box-shadow: 0 0 4px 1px rgba(0, 0, 0, 0.5);

    }

    tr.isviewed-false {
        font-weight: bold;
    }

    #inboxDetails {
        display: none;
    }

    #sentDetails {
        display: none;
    }
</style>

<body>
    <br><br>
    <div class="container">
        <!-- Nav tabs justify-content-between"-->
        <ul class="nav nav-tabs justify-content-end" role="tablist">
            <li class="nav-item mr-auto">
                <a class="nav-link btn btn-primary" data-toggle="tab" href="#newMsg">Compose</a>
            </li>

            <li class="nav-item">
                <a class="nav-link active" data-toggle="tab" href="#inbox">Inbox</a>
            </li>
            <li class="nav-item">
                <a class="nav-link" data-toggle="tab" href="#sent">Sent</a>
            </li>

        </ul>

        <!-- Tab panes -->
        <div class="tab-content border">
            <!-- Compose/New Message tab -->
            <div id="newMsg" class="container tab-pane fade my-4 text-right">
                <form class="form">
                    <div class="form-group row">
                        <label class="col-lg-2 col-md-2 control-label col-1" for="toField">To:</label>
                        <div class="col-lg-6 col-md-8">
                            <input id="toField" name="toField" type="text" placeholder="" class="form-control">

                        </div>
                    </div>

                    <div class="form-group row">
                        <label class="col-lg-2 col-md-2 control-label col-1" for="subjectField">Subject:</label>
                        <div class="col-lg-6 col-md-8">
                            <input id="subjectField" name="subjectField" type="text" placeholder=""
                                class="form-control">

                        </div>
                    </div>

                    <div class="form-group row">
                        <label class="col-lg-2 col-md-2 control-label col-1" for="bodyField">Body:</label>
                        <div class="col-lg-6 col-md-8">
                            <textarea rows="5" class="form-control" id="bodyField" name="bodyField"></textarea>
                        </div>
                    </div>

                    <div class="form-group row">
                        <div class="col-lg-8 col-md-10">
                            <button type="submit" class="btn btn-primary">Send</button>
                            <button type="reset" class="btn btn-danger"><i class="fa fa-trash"
                                    aria-hidden="true"></i></button>
                        </div>
                    </div>

                </form>

            </div>

            <!-- Inbox tab -->
            <div id="inbox" class="container tab-pane active my-4">
                <!-- this div will be hid/shown upon clicking a msg -->
                <div id="inboxList">
                    <table class="table table-hover">
                        <thead>
                            <tr class="d-flex">
                                <th class="col-2">From</th>
                                <th class="col-5">Subject</th>
                                <th class="col-2">Date</th>
                                <th class="col-3 col-lg-2" id="badges"></th>
                            </tr>
                        </thead>
                        <tbody>
                            <!-- for loop for all items in model -->
                            <!-- parentId is for future feature, isviewed-false is only present if isviewed is null-->
                            <!-- could use data- attributes to store info, js: use .data() to retrieve value -->
                            <tr class="d-flex inboxRow parentId-0" data-msg_id="1">
                                <td class="col-2">Admin</td>
                                <td class="col-5">Hello World</td>
                                <td class="col-2">6/10/20 10:30PM</td>
                                <td class="col-3 col-lg-2"><span
                                        class="badge badge-pill badge-secondary mx-2 list-reply">Reply</span><span
                                        class="badge badge-pill badge-danger list-del"><i class="fa fa-trash"
                                            aria-hidden="true"></i></span>
                                </td>
                            </tr>
                            <tr class="d-flex inboxRow isviewed-false parentId-0" data-msg_id="2">
                                <td class="col-2">Admin</td>
                                <td class="col-5">Unread Message</td>
                                <td class="col-2">6/12/20 2:00PM</td>
                                <!-- the pills are weird when resizing / fix later -->
                                <td class="col-3 col-lg-2"><span
                                        class="badge badge-pill badge-secondary mx-2 list-reply">Reply</span><span
                                        class="badge badge-pill badge-danger list-del"><i class="fa fa-trash"
                                            aria-hidden="true"></i></span>
                                </td>
                            </tr>
                        </tbody>
                    </table>

                </div>
                <!-- on load, this will be a template with no data, click of a msg will populate the template with the msg info and be displayed  -->
                <!-- current html is dummy data / form-control-plaintext -->
                <div id="inboxDetails" class="text-right" data-msg_id="1">
                    <!-- add heading later "Message ID int" -->
                    <form class="form">

                        <div class="form-group row">
                            <label class="col-lg-2 col-md-2 control-label col-1" for="fromField">From:</label>
                            <div class="col-lg-6 col-md-8">
                                <input id="fromField" name="fromField" type="text" value="Admin" class="form-control"
                                    readonly>

                            </div>
                        </div>

                        <div class=" form-group row">
                            <label class="col-lg-2 col-md-2 control-label col-1" for="date">Date:</label>
                            <div class="col-lg-3 col-md-4">
                                <input id="date" name="date" type="text" value="6/12/20 2:00PM" class="form-control"
                                    readonly>

                            </div>
                        </div>

                        <div class="form-group row">
                            <label class="col-lg-2 col-md-2 control-label col-1" for="subjectField">Subject:</label>
                            <div class="col-lg-6 col-md-8">
                                <input id="subjectField" name="subjectField" type="text" value="Unread Message"
                                    class="form-control" readonly>

                            </div>
                        </div>

                        <div class="form-group row">
                            <label class="col-lg-2 col-md-2 control-label col-1" for="bodyField">Body:</label>
                            <div class="col-lg-6 col-md-8">
                                <textarea rows="5" class="form-control" id="bodyField" name="bodyField"
                                    readonly>Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. </textarea>
                            </div>
                        </div>

                        <div class="form-group row">
                            <label class="col-lg-2 col-md-2 control-label col-1"></label>
                            <div class="col-lg-6 col-md-8 clearfix">
                                <button type="button" id="goback" class="btn btn-info float-left">Go
                                    Back</button>
                                <button type="button" id="reply" class="btn btn-success mx-1">Reply</button>
                                <button type="button" id="delete" class="btn btn-danger"><i class="fa fa-trash"
                                        aria-hidden="true"></i></button>


                            </div>
                        </div>

                    </form>

                </div>
            </div>

            <!-- Sent tab -->
            <div id="sent" class="container tab-pane fade my-4">
                <!-- this div will be hid/shown upon clicking a msg -->
                <div id="sentList">
                    <table class="table table-hover">
                        <thead>
                            <tr class="d-flex">
                                <th class="col-2">To</th>
                                <th class="col-5">Subject</th>
                                <th class="col-2">Date</th>
                                <th class="col-3 col-lg-2" id="badges"></th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr class="d-flex sentRow" data-msg_id="5">
                                <td class="col-2">User1</td>
                                <td class="col-5">Come see Hamilton!</td>
                                <td class="col-2">6/08/20 7:00PM</td>
                                <td class="col-3 col-lg-2"><span class="badge badge-pill badge-danger sent-del"><i
                                            class="fa fa-trash" aria-hidden="true"></i></span>
                                </td>
                            </tr>
                        </tbody>
                    </table>
                </div>
                <div id="sentDetails" class="text-right" data-msg_id="5">
                    <!-- add heading later "Message ID int" -->
                    <form class="form">

                        <div class="form-group row">
                            <label class="col-lg-2 col-md-2 control-label col-1" for="toField">To:</label>
                            <div class="col-lg-6 col-md-8">
                                <input id="toField" name="toField" type="text" value="User1" class="form-control"
                                    readonly>

                            </div>
                        </div>

                        <div class=" form-group row">
                            <label class="col-lg-2 col-md-2 control-label col-1" for="date">Date:</label>
                            <div class="col-lg-3 col-md-4">
                                <input id="date" name="date" type="text" value="6/08/20 7:00PM" class="form-control"
                                    readonly>

                            </div>
                        </div>

                        <div class="form-group row">
                            <label class="col-lg-2 col-md-2 control-label col-1" for="subjectField">Subject:</label>
                            <div class="col-lg-6 col-md-8">
                                <input id="subjectField" name="subjectField" type="text" value="Come see Hamilton!"
                                    class="form-control" readonly>

                            </div>
                        </div>

                        <div class="form-group row">
                            <label class="col-lg-2 col-md-2 control-label col-1" for="bodyField">Body:</label>
                            <div class="col-lg-6 col-md-8">
                                <textarea rows="5" class="form-control" id="bodyField" name="bodyField"
                                    readonly>Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. </textarea>
                            </div>
                        </div>

                        <div class="form-group row">
                            <label class="col-lg-2 col-md-2 control-label col-1"></label>
                            <div class="col-lg-6 col-md-8 clearfix">
                                <button type="button" id="goback" class="btn btn-info float-left">Go
                                    Back</button>
                                <button type="button" id="delete" class="btn btn-danger"><i class="fa fa-trash"
                                        aria-hidden="true"></i></button>
                            </div>
                        </div>

                    </form>
                </div>
            </div>
        </div>
    </div>



    <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"
        integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj"
        crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js"
        integrity="sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo"
        crossorigin="anonymous"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/js/bootstrap.min.js"
        integrity="sha384-OgVRvuATP1z7JjHLkuOU7Xw704+h835Lr+6QL9UvYjZE3Ipu6Tp75j7Bh/kR0JKI"
        crossorigin="anonymous"></script>
    <script>
        $(document).ready(function () {
            //behavior of row in inboxList tab
            $(".inboxRow").on("click", "td:not(:last-child)", function () {
                var msgId_str = $(this).parent().data("msg_id");
                console.log("msgId: " + msgId_str + ", type: " + typeof (msgId_str));
                if ($(this).parent().hasClass("isviewed-false")) {
                    //ajax post and update isviewed to current date time, success - change
                    $(this).parent().css("font-weight", "normal");
                    $(this).parent().removeClass(".isviewed-false");
                }
                $("#inboxList").hide();
                //code will populate #inboxDetails with correct msg info, hide/show speed not working, asynchronous?
                $("#inboxDetails").show();
            });
            $(".list-reply").on("click", function () {
                var msgId_str = $(this).parents(".inboxRow").data("msg_id");
                alert("Feature not available yet! (details: reply to msgId: " + msgId_str + ")");
            });
            $(".list-del").on("click", function () {
                var msgId_str = $(this).parents(".inboxRow").data("msg_id");
                if (confirm("Inbox: Delete msgId: " + msgId_str + "?")) {
                    alert("AJAX post sent");
                }
            });


            //behavior of inboxDetails div
            $("#inboxDetails #goback").click(function () {
                $("#inboxDetails").hide();
                $("#inboxList").show();
            });
            $("#inboxDetails #reply").on("click", function () {
                var msgId_str = $(this).parents("#inboxDetails").data("msg_id");
                alert("Feature not available yet! (details: reply to msgId: " + msgId_str + ")");
            });
            $("#inboxDetails #delete").on("click", function () {
                var msgId_str = $(this).parents("#inboxDetails").data("msg_id");
                if (confirm("Details: Delete msgId: " + msgId_str + "?")) {
                    alert("AJAX post sent");
                }
            });


            //behavior of row on sent tab
            $(".sentRow").on("click", "td:not(:last-child)", function () {
                var msgId_str = $(this).parent().data("msg_id");
                console.log("msgId: " + msgId_str + ", type: " + typeof (msgId_str));
                $("#sentList").hide();
                //code will populate #sentDetails with correct msg info, hide/show speed not working, asynchronous?
                $("#sentDetails").show();
            });
            $(".sent-del").on("click", function () {
                var msgId_str = $(this).parents(".sentRow").data("msg_id");
                if (confirm("Sent: Delete msgId: " + msgId_str + "?")) {
                    alert("AJAX post sent");
                }
            });


            //behavior of sentDetails div
            $("#sentDetails #goback").click(function () {
                $("#sentDetails").hide();
                $("#sentList").show();
            });

            $("#sentDetails #delete").on("click", function () {
                var msgId_str = $(this).parents("#sentDetails").data("msg_id");
                if (confirm("Sent: Delete msgId: " + msgId_str + "?")) {
                    alert("AJAX post sent");
                }
            });

        });
    </script>
</body>

</html>